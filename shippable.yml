env:
  global:
    - APP_NAME: react-native-web-webrtc
    - secure: iRUZU6SjxQWf/Zkl1+JpNiYG491YvICnpsLgxO6Lvbj9CKcSRYoQdy5eEJt1ywU387gc9IQ9S+j2Hqz4xffFOv0UV+HL2j/Ak0PHbTWt2ahVDyXIfQkLP52JC70d8t9GgewTQpH0BmdcCpSA+8y95jk92nPq9yG4yfwXSi3pUUPjkPNg95UUNk6N/Lh63stoBy4J1bquZuiXnoAtx1Q55ADKueE7iBQ1/u8vtjnAv7S4Cifbjv135aaqL80KErVF6h7uOQf/bpsdnwmAlcGCMA35mBYk0Tjetigx6lq+i+VVCVeYVF06d6wWFYsUmUgpOol7OkQyeDNL7h9gBDl9sw==

language: node_js

node_js:
   - "6.2.2"

build:
  ci:
    - npm install

deploy:
  provider: npm
  api_key: $NPM_KEY
  on:
    tags: true
    branch: master
    condition: $MY_ENV = production
  skip_cleanup: true

integrations:
  notifications:
    - integrationName: CINotification
      type: slack
      recipients:
        - "#ci"
      branches:
        only:
          - master
          - develop
      on_success: change
      on_failure: always
      on_start: never

    - integrationName: email
      type: email
      recipients:
        - robb@liivevideo.com
      branches:
        only:
          - master
          - develop
      on_success: change  # options: [always|never|change] default: always
      on_failure: always  # options: [always|never|change] default: always
      on_start: never     # options: [always|never|change] default: always

